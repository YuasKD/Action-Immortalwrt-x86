# =====================================================================
# Mihomo (Clash Meta) é«˜é˜¶é…ç½®æ¨¡æ¿
# æ¶æ„ç‰¹æ€§: TUN (System å †æ ˆ) + Fake-IP (Ruleæ¨¡å¼) + å…¨å±€ Sniffer å—…æ¢
# =====================================================================

# ---------------------------------------------------
# 1. æœºåœºè®¢é˜…ä¸èŠ‚ç‚¹è·å–
# ---------------------------------------------------
proxy-providers:
  ikuuu:
    url: "ä½ çš„çœŸå®è®¢é˜…é“¾æ¥å¡«è¿™é‡Œ"  # âš ï¸ åŠ¡å¿…å¡«å…¥ï¼Œä¸ºç©ºä¼šå¯¼è‡´å†…æ ¸å¯åŠ¨å´©æºƒ
    type: http
    interval: 86400              # æ¯ 24 å°æ—¶è‡ªåŠ¨æ›´æ–°
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300              # æ¯ 5 åˆ†é’Ÿè¿›è¡Œä¸€æ¬¡å¯ç”¨æ€§æµ‹è¯•
    override:                    # ğŸ’¡ [å…³é”®ä¼˜åŒ–] å°†æŒ‡çº¹å¼ºåˆ¶æ³¨å…¥åˆ°æ‰€æœ‰è®¢é˜…èŠ‚ç‚¹ä¸­
      client-fingerprint: chrome # è§£å†³ global-client-fingerprint å¼ƒç”¨è­¦å‘Šï¼Œç»•è¿‡ TLS å®¡æŸ¥

# ---------------------------------------------------
# 2. æœ¬åœ°æœåŠ¡ä¸åŸºç¡€è®¾ç½®
# ---------------------------------------------------
proxies: []                  # èŠ‚ç‚¹ç”± providers æä¾›ï¼Œæ­¤å¤„ç•™ç©ºï¼Œç³»ç»Ÿè‡ªå¸¦ DIRECT å’Œ REJECT ç­–ç•¥
mixed-port: 7890             # ğŸ’¡ [ç²¾ç®€] ä»…ä¿ç•™æ··åˆç«¯å£(HTTP/SOCKS5)ï¼Œæ”¶æ•›ç›‘å¬èµ„æº
allow-lan: true              # å…è®¸å±€åŸŸç½‘è®¾å¤‡æ¥å…¥ (æ—è·¯ç”±æ ¸å¿ƒå‚æ•°)
bind-address: "*"
ipv6: false
unified-delay: true
tcp-concurrent: true         # å¼€å¯ TCP å¹¶å‘ï¼Œæå‡ç½‘é¡µåŠ è½½é€Ÿåº¦
log-level: warning           # æ—¥å¸¸å»ºè®®ä¿æŒ warningï¼Œå‡å°‘ç£ç›˜ IO
find-process-mode: 'off'     # æ—è·¯ç”±ç¯å¢ƒä¸éœ€è¦æŸ¥æ‰¾æœ¬æœºè¿›ç¨‹ï¼Œè®¾ä¸º off èŠ‚çœæ€§èƒ½
keep-alive-idle: 600
keep-alive-interval: 15
disable-keep-alive: false
profile:
  store-selected: true       # è®°å¿†æ‰‹åŠ¨é€‰æ‹©çš„èŠ‚ç‚¹
  store-fake-ip: true        # ğŸ’¡ [é˜²æ–­ç½‘] è®°å¿† Fake-IP æ˜ å°„ï¼Œé˜²æ­¢æœåŠ¡é‡å¯å DNS ç¼“å­˜é”™ä¹±å¯¼è‡´æ–­ç½‘

# ---------------------------------------------------
# 3. Web UI æ§åˆ¶é¢æ¿
# ---------------------------------------------------
external-controller: 0.0.0.0:9090
secret: ""
external-ui: ui/zashboard
external-ui-name: zashboard
external-ui-url: "https://github.com/Zephyruso/zashboard/archive/refs/heads/gh-pages.zip"

# ---------------------------------------------------
# 4. æµé‡å—…æ¢ (Sniffer) - è§£å†³ App ä¸å‘åŸŸåå‘ IP çš„é—®é¢˜
# ---------------------------------------------------
sniffer:
  enable: true               # ğŸ’¡ [å…³é”®ä¼˜åŒ–] å¼€å¯å—…æ¢ï¼Œæå‡åˆ†æµå‡†ç¡®ç‡
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true  # å¼ºåˆ¶ç”¨å—…æ¢åˆ°çš„åŸŸåæ›¿æ¢åŸå§‹ IP å»åŒ¹é… rules
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  force-domain:
    - "+.v2ex.com"           # å¼ºåˆ¶å—…æ¢ææ˜“è¢« DNS æ±¡æŸ“æˆ–ä½¿ç”¨å¤æ‚ CDN çš„åŸŸå
  skip-domain:
    - "rule-set:private_domain"   # ğŸ’¡ [æ€§èƒ½ä¼˜åŒ–] å±€åŸŸç½‘å†…ç½‘æµé‡è·³è¿‡å—…æ¢ï¼Œç›´æ¥æ”¾è¡Œ
    - "rule-set:cn_domain"        # ğŸ’¡ [æ€§èƒ½ä¼˜åŒ–] å›½å†…æµé‡è·³è¿‡å—…æ¢ï¼Œé˜²æ­»é”å¡é¡¿
  skip-dst-address:
  #Telegram
    - 91.105.192.0/23
    - 91.108.4.0/22
    - 91.108.8.0/21
    - 91.108.16.0/21
    - 91.108.56.0/22
    - 95.161.64.0/20
    - 149.154.160.0/20
    - 185.76.151.0/24


# ---------------------------------------------------
# 5. TUN è™šæ‹Ÿç½‘å¡ (æ¥ç®¡åº•å±‚ Linux æµé‡)
# ---------------------------------------------------
tun:
  enable: true
  stack: system              # ğŸ’¡ [å…³é”®ä¼˜åŒ–] ä½¿ç”¨ system åº•å±‚åè®®æ ˆï¼Œæ€§èƒ½æŸè€—æœ€ä½ (æ³¨æ„ï¼šæ”¹åŠ¨æ­¤é¡¹éœ€é‡å¯æœåŠ¡å™¨æ¸…ç©ºç½‘å¡ç¼“å­˜)
  auto-route: true           # è‡ªåŠ¨é…ç½®æœ¬æœºè·¯ç”±è¡¨æ¥ç®¡æµé‡
  auto-redirect: false
  auto-detect-interface: true
  dns-hijack: []             # é…åˆ Fake-IP ä½¿ç”¨æ—¶ï¼Œç•™ç©ºå³å¯

# ---------------------------------------------------
# 6. DNS å¼•æ“ (Fake-IP æ¨¡å¼)
# ---------------------------------------------------
dns:
  enable: true
  listen: 0.0.0.0:1053       # ä¸Šæ¸¸ DNS ç›‘å¬ç«¯å£ (ä¾›ä¸»è·¯ç”±æˆ– AdGuard è½¬å‘ä½¿ç”¨)
  ipv6: false
  respect-rules: true
  enhanced-mode: fake-ip     # è¿”å› 198.18.x.x è™šæ‹Ÿ IP
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter-mode: rule  # ğŸ’¡ [é«˜çº§ç‰¹æ€§] ä»…ä¸ºå›½å¤–åŸŸåè¿”å›è™šå‡ IPï¼Œå›½å†…ç›´è¿
  fake-ip-filter:
    - RULE-SET,gfw_domain,fake-ip
    - RULE-SET,ai,fake-ip
    - RULE-SET,google_domain,fake-ip
    - RULE-SET,telegram_domain,fake-ip
    - RULE-SET,youtube_domain,fake-ip
    - RULE-SET,adblock_domain,fake-ip
    - RULE-SET,instagram_domain,fake-ip
    - RULE-SET,tiktok_domain,fake-ip
    - RULE-SET,mega_domain,fake-ip
    - RULE-SET,ehentai_domain,fake-ip
    - RULE-SET,cn_domain,real-ip  # å›½å†…åŸŸåè¿”å›çœŸå® IP
    - MATCH,real-ip               # å…œåº•è¿”å›çœŸå® IP
  default-nameserver:
    - 223.5.5.5
    - 119.29.29.29
  proxy-server-nameserver:
    - https://doh.pub/dns-query
    - https://dns.alidns.com/dns-query
  nameserver:
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query

# ---------------------------------------------------
# 7. å‡ºç«™ç­–ç•¥ç»„ (å·²å°†è‡ªå®šä¹‰çš„"ç›´è¿"æ›¿æ¢ä¸ºå†…æ ¸çº§ DIRECT)
# ---------------------------------------------------
proxy-groups:
  - {name: ğŸš€ é»˜è®¤ä»£ç†, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ“¹ YouTube, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ” Google, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ¤– ChatGPT, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ‘¨ğŸ¿â€ğŸ’» GitHub, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸªŸ Microsoft_CN, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸªŸ Microsoft, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸš€ Twitch, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸµ TikTok, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ“² Telegram, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: âœ¨ Instagram, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: â“‚ï¸ Mega, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ® Steam_CN, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸ® Steam, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ® Xbox, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸ“º Bilibili, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸ” E-Hentai, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ” Javdb, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ¥ NETFLIX, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: âœˆï¸ Speedtest, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸ’¶ PayPal, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ Apple, type: select, proxies: [DIRECT,ğŸš€ é»˜è®¤ä»£ç†, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, â™»ï¸ é¦™æ¸¯æ™ºèƒ½, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹]}
  - {name: ğŸ¯ ç›´è¿, type: select, proxies: [DIRECT, ğŸš€ é»˜è®¤ä»£ç†]}
  - {name: ğŸŸ æ¼ç½‘ä¹‹é±¼, type: select, proxies: [â™»ï¸ é¦™æ¸¯æ™ºèƒ½, ğŸ”¯ é¦™æ¸¯æ•…è½¬, ğŸ”¯ æ—¥æœ¬æ•…è½¬, ğŸ”¯ ç‹®åŸæ•…è½¬, ğŸ”¯ ç¾å›½æ•…è½¬, â™»ï¸ æ—¥æœ¬æ™ºèƒ½, â™»ï¸ ç‹®åŸæ™ºèƒ½, â™»ï¸ ç¾å›½æ™ºèƒ½, â™»ï¸ è‡ªåŠ¨é€‰æ‹©, ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, DIRECT]}
  - {name: ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ¸¯|hk|hongkong|hong kong"}
  - {name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ—¥|jp|japan"}
  - {name: ğŸ‡¸ğŸ‡¬ ç‹®åŸèŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore"}
  - {name: ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹, type: select, include-all: true, filter: "(?i)ç¾|us|unitedstates|united states"}
  - {name: ğŸ”¯ é¦™æ¸¯æ•…è½¬, type: fallback, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾)).)*$"}
  - {name: ğŸ”¯ æ—¥æœ¬æ•…è½¬, type: fallback, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$" }
  - {name: ğŸ”¯ ç‹®åŸæ•…è½¬, type: fallback, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(å°|æ—¥|éŸ©|æ·±|ç¾)).)*$"}
  - {name: ğŸ”¯ ç¾å›½æ•…è½¬, type: fallback, include-all: true, tolerance: 20, interval: 300, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|éŸ©|æ–°|æ—¥)).)*$" }
  - {name: â™»ï¸ é¦™æ¸¯æ™ºèƒ½, type: smart, policy-priority: "Premium:0.9;SG:1.3", uselightgbm: true, collectdata: false, strategy: sticky-sessions, include-all: true, interval: 300, filter: "(?=.*(æ¸¯|HK|(?i)Hong))^((?!(å°|æ—¥|éŸ©|æ–°|æ·±|ç¾)).)*$"}
  - {name: â™»ï¸ æ—¥æœ¬æ™ºèƒ½, type: smart, policy-priority: "Premium:0.9;SG:1.3", uselightgbm: true, collectdata: false, strategy: sticky-sessions, include-all: true, interval: 300, filter: "(?=.*(æ—¥|JP|(?i)Japan))^((?!(æ¸¯|å°|éŸ©|æ–°|ç¾)).)*$" }
  - {name: â™»ï¸ ç‹®åŸæ™ºèƒ½, type: smart, policy-priority: "Premium:0.9;SG:1.3", uselightgbm: true, collectdata: false, strategy: sticky-sessions, include-all: true, interval: 300, filter: "(?=.*(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore))^((?!(æ¸¯|å°|éŸ©|æ—¥|ç¾)).)*$" }
  - {name: â™»ï¸ ç¾å›½æ™ºèƒ½, type: smart, policy-priority: "Premium:0.9;SG:1.3", uselightgbm: true, collectdata: false, strategy: sticky-sessions, include-all: true, interval: 300, filter: "(?=.*(ç¾|US|(?i)States|America))^((?!(æ¸¯|å°|æ—¥|éŸ©|æ–°)).)*$"}
  - {name: â™»ï¸ è‡ªåŠ¨é€‰æ‹©, type: url-test, include-all: true, tolerance: 20, interval: 300, filter: "^((?!(ç›´è¿)).)*$"}
  - {name: ğŸŒ å…¨éƒ¨èŠ‚ç‚¹, type: select, include-all: true}

# ---------------------------------------------------
# 8. è·¯ç”±åˆ†æµè§„åˆ™ (Rules)
# ---------------------------------------------------
rules:
  # ä¼˜å…ˆçº§æœ€é«˜ï¼šç‰¹æ®Šç›´è¿ä¸ä»£ç†
  - DOMAIN-SUFFIX,doh.pub,DIRECT
  - DOMAIN-SUFFIX,dns.alidns.com,DIRECT
  - DOMAIN-SUFFIX,bing.com,ğŸš€ é»˜è®¤ä»£ç†
  - DOMAIN-SUFFIX,yandex.com,â™»ï¸ ç¾å›½æ™ºèƒ½
  - RULE-SET,twitch_domain,ğŸš€ Twitch
  - RULE-SET,tailscale_domain,DIRECT
  - RULE-SET,microsoft_cn_domain,ğŸªŸ Microsoft_CN
  - RULE-SET,steam_cn_domain,ğŸ® Steam_CN
  - RULE-SET,steam_domain,ğŸ® Steam
  - RULE-SET,xbox_domain,ğŸ® Xbox
  - RULE-SET,supercell_domain,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,games_domain,DIRECT
  # åŸºç¡€å±€åŸŸç½‘ä¸å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,private_domain,DIRECT
  - RULE-SET,adblock_domain,REJECT
  # åº”ç”¨çº§ç²¾ç»†åˆ†æµ
  - RULE-SET,bilibili_domain,ğŸ“º Bilibili
  - RULE-SET,ehentai_domain,ğŸ” E-Hentai
  - RULE-SET,javdb_domain,ğŸ” Javdb
  - RULE-SET,apple_domain,ğŸ Apple
  - RULE-SET,ai,ğŸ¤– ChatGPT
  - RULE-SET,github_domain,ğŸ‘¨ğŸ¿â€ğŸ’» GitHub
  - RULE-SET,youtube_domain,ğŸ“¹ YouTube
  - RULE-SET,google_domain,ğŸ” Google
  - RULE-SET,microsoft_domain,ğŸªŸ Microsoft
  - RULE-SET,tiktok_domain,ğŸµ TikTok
  - RULE-SET,telegram_domain,ğŸ“² Telegram
  - RULE-SET,instagram_domain,âœ¨ Instagram
  - RULE-SET,mega_domain,â“‚ï¸ Mega
  - RULE-SET,netflix_domain,ğŸ¥ NETFLIX
  - RULE-SET,speedtest_domain,âœˆï¸ Speedtest
  - RULE-SET,paypal_domain,ğŸ’¶ PayPal
  # é€šç”¨ä»£ç†ä¸å…œåº•åŒ¹é…
  - RULE-SET,gfw_domain,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,geolocation-!cn,ğŸš€ é»˜è®¤ä»£ç†
  - RULE-SET,cn_domain,DIRECT
  - RULE-SET,cn_ip,DIRECT,no-resolve
  # å¼ºä¾èµ–çœŸå® IP è§£æçš„æœåŠ¡
  - RULE-SET,google_ip,ğŸ” Google,no-resolve
  - RULE-SET,netflix_ip,ğŸ¥ NETFLIX,no-resolve
  - RULE-SET,telegram_ip,ğŸ“² Telegram,no-resolve
  # æœ€åæ”¾è¡Œ
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼

# ---------------------------------------------------
# 9. è§„åˆ™é›†æ˜ å°„ (Providers)
# ---------------------------------------------------
rule-anchor:
  # ğŸ’¡ [æ’é”™å¤‡å¿˜] å¿…é¡»æ˜¾å¼å£°æ˜ behavior å­—æ®µï¼Œå¦åˆ™æ–°ç‰ˆå†…æ ¸å¯åŠ¨ä¼šæŠ¥ "unset fields: behavior" è‡´å‘½é”™è¯¯
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
  class: &class {type: http, interval: 86400, behavior: classical, format: text}

rule-providers:
  private_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"}
  ai: {  <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-!cn.mrs" }
  youtube_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"}
  google_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google.mrs"}
  github_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"}
  telegram_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/telegram.mrs"}
  gamecn_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-games@cn.mrs"}
  netflix_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/netflix.mrs"}
  paypal_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/paypal.mrs"}
  microsoft_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"}
  apple_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple-cn.mrs"}
  speedtest_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/ookla-speedtest.mrs"}
  tiktok_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tiktok.mrs"}
  gfw_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/gfw.mrs"}
  geolocation-!cn: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"}
  cn_domain: { <<: *domain, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"}
  adblock_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ads-all.mrs"}
  instagram_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/instagram.mrs"}
  mega_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/mega.mrs"}
  steam_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/steam.mrs"}
  steam_cn_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/steam@cn.mrs"}
  bilibili_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/bilibili.mrs"}
  ehentai_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/ehentai.mrs"}
  games_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-games.mrs"}
  microsoft_cn_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/microsoft@cn.mrs"}
  xbox_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/xbox.mrs"}
  tailscale_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tailscale.mrs"}
  twitch_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/twitch.mrs"}
  supercell_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/supercell.mrs"}
  javdb_domain: { <<: *domain, url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/javdb.mrs"}

  cn_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"}
  google_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"}
  telegram_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"}
  netflix_ip: { <<: *ip, url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/netflix.mrs"}

#è§„åˆ™ä»“åº“ï¼šhttps://github.com/MetaCubeX/meta-rules-dat/tree/meta

